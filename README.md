# 花卉产品信息自动化处理系统（简化版）

这是一个用于自动化处理花卉产品信息的系统，主要功能包括从JSON数据源提取花卉产品信息、下载产品图片并转换为jpg格式。

## 功能概述

1. **实时监控数据源**：监控源JSON文件变化，自动提取新增产品信息
2. **产品信息提取**：从JSON数据中提取花卉产品的名称、价格、图片URL等信息
3. **图片自动下载**：根据提取的URL自动下载产品图片，并直接保存为jpg格式
4. **图片格式转换**：将已有的webp格式图片转换为jpg格式

## 文件结构

- **核心程序文件**
  - `simplified_flower_monitor.py` - 简化版主程序，包含所有功能：数据监控、信息提取、图片下载与转换

- **数据文件**
  - `flower_products.xlsx` - 存储提取的产品信息（名称、价格、图片URL）

- **配置文件**
  - `requirements.txt` - 项目依赖库列表

- **日志文件**
  - `flower_monitor.log` - 程序运行日志

- **图片文件夹**
  - `flower_images_jpg/` - 转换后的jpg格式图片存储目录

## 安装与使用

1. **安装依赖**
   ```
   pip install -r requirements.txt
   ```

2. **运行程序**
   ```
   python simplified_flower_monitor.py
   ```

## 程序功能说明

1. **数据处理流程**
   - 监控源JSON文件变化
   - 提取新产品信息（名称、价格、图片URL）
   - 将新产品信息追加到Excel文件末尾（不覆盖原有数据）
   - 下载产品图片并转换为jpg格式

2. **图片处理**
   - 自动将webp格式图片转换为jpg格式
   - 处理透明通道，将透明背景转换为白色背景
   - 保存高质量(95%)的jpg图片

3. **去重处理**
   - 使用产品名称作为唯一标识，避免重复处理
   - 使用MD5哈希值比较文件变化，只处理有变化的数据

## 注意事项

- 程序会自动创建所需的文件夹和文件
- 所有操作都有详细的日志记录
- 程序启动时会先处理已有的webp图片，然后再开始监控
- 按Ctrl+C可以停止监控程序

## GitHub 仓库

本项目的代码已上传至 GitHub，仓库地址为：[https://github.com/XUXIKAI886/shangou-caiji](https://github.com/XUXIKAI886/shangou-caiji) 